%%
%% MLSALT project dissertation template.
%%
%% Currently designed for printing two-sided, but if you prefer to
%% print single-sided just remove ",twoside,openright" from the
%% \documentclass[] line below.
%%
%%
%%   FTL, July 2016
%%   SMH, May 2010.
\documentclass[a4paper,12pt,twoside,openright]{report}

\usepackage{subfiles}
\usepackage[
    backend=bibtex,
    style=alphabetic,
]{biblatex} % TODO: use biber backend
\addbibresource{refs.bib}

% Don't expand \printbibliography in subfiles
\makeatletter

\newrobustcmd*{\nobibliography}{%
  \@ifnextchar[%]
    {\blx@nobibliography}
    {\blx@nobibliography[]}}

\def\blx@nobibliography[#1]{}

\appto{\skip@preamble}{\let\printbibliography\nobibliography}

\makeatother

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}

\usepackage{epsfig,graphicx,parskip,setspace,tabularx,xspace}
\usepackage{hyperref}

% TODO: eliminate
\usepackage{tikz,ifthen}
\usetikzlibrary{positioning}

% Inkscape pdf_tex exports
%\usepackage{import}
\usepackage{float,subcaption}
\graphicspath{{Figures/}}

\usepackage{amsmath,amsfonts,amssymb,amsthm,dsfont}
\usepackage{xcolor}

\usepackage{booktabs,longtable}

\usepackage[bold]{hhtensor}
\usepackage{mathtools}

\input{macros.tex}

%%
%% EDIT THE BELOW TO CUSTOMIZE
%%

\def\authorname{Feynman T. Liang\xspace}
\def\authorcollege{Churchill College\xspace}
\def\authoremail{fl350@cam.ac.uk}
\def\dissertationtitle{BachBot: Sequence Modeling of Bach Chorales}
\def\wordcount{\todo{DO THIS}}

%% START OF DOCUMENT
\begin{document}


%% FRONTMATTER (TITLE PAGE, DECLARATION, ABSTRACT, ETC)
\pagenumbering{gobble}
\pagestyle{empty}
\singlespacing
\subfile{titlepage}
\onehalfspacing
\subfile{declaration}
\singlespacing
\subfile{abstract}

\pagenumbering{roman}
\setcounter{page}{0}
\pagestyle{plain}
\tableofcontents
%\printglossary[title=List of Abbreviations and Symbols]
\listoffigures
\listoftables

\onehalfspacing

%% START OF MAIN TEXT

\pagenumbering{arabic}
\setcounter{page}{1}

\subfile{chapters/introduction}
\subfile{chapters/background}
\subfile{chapters/related-work}
\subfile{chapters/data}
\subfile{chapters/automatic-composition}
\subfile{chapters/chorale-harmonization}
\subfile{chapters/model-analysis}
\subfile{chapters/large-scale-eval}
\subfile{chapters/summary-conclusion}

\appendix
\singlespacing

% \bibliographystyle{unsrt}
% \bibliography{refs}
\printbibliography

\subfile{chapters/graveyard}

% \printindex

\end{document}
